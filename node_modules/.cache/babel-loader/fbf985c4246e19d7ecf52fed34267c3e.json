{"ast":null,"code":"import _regeneratorRuntime from\"D:/programming/React Stock/Movie react app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _toConsumableArray from\"D:/programming/React Stock/Movie react app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"D:/programming/React Stock/Movie react app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/programming/React Stock/Movie react app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import'./App.css';import MovieList from'./MovieList';import SearchMovie from'./SearchMovie';import MovieHeading from'./MovieHeading';import AddFavorite from'./AddFavorite';import RemoveMovie from'./RemoveMovie';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),movies=_useState2[0],setMovies=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),favorites=_useState4[0],setFavorites=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),searchValue=_useState6[0],setSearchValue=_useState6[1];function getMovies(_x){return _getMovies.apply(this,arguments);}function _getMovies(){_getMovies=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(searchValue){var url,res,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=\"http://www.omdbapi.com/?s=\".concat(searchValue,\"&apikey=263d22d8\");_context.next=3;return fetch(url);case 3:res=_context.sent;_context.next=6;return res.json();case 6:data=_context.sent;if(data.Search){setMovies(data.Search);}case 8:case\"end\":return _context.stop();}}},_callee);}));return _getMovies.apply(this,arguments);}useEffect(function(){getMovies();},[searchValue]);useEffect(function(){var MovieList=JSON.parse(localStorage.getItem(\"fav-list\"));if(MovieList){setMovies(MovieList);}},[]);function addMoviesToLs(items){localStorage.setItem(\"fav-list\",JSON.stringify(items));}function addFavoriteList(movie){var newFavoriteList=[].concat(_toConsumableArray(favorites),[movie]);setFavorites(newFavoriteList);addMoviesToLs(newFavoriteList);}function removeFavoriteMovie(movie){var newFavoriteList=favorites.filter(function(favorite){return favorite.imdbID!==movie.imdbID;});setFavorites(newFavoriteList);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(MovieHeading,{heading:\"Movies\"}),/*#__PURE__*/_jsx(SearchMovie,{searchValue:searchValue,setSearchValue:setSearchValue})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(MovieList,{movies:movies,handleFavoriteClick:addFavoriteList,FavoriteComponent:AddFavorite})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(MovieHeading,{heading:\"Favorites\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(MovieList,{movies:favorites,handleFavoriteClick:removeFavoriteMovie,FavoriteComponent:RemoveMovie})})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","MovieList","SearchMovie","MovieHeading","AddFavorite","RemoveMovie","App","movies","setMovies","favorites","setFavorites","searchValue","setSearchValue","getMovies","url","fetch","res","json","data","Search","JSON","parse","localStorage","getItem","addMoviesToLs","items","setItem","stringify","addFavoriteList","movie","newFavoriteList","removeFavoriteMovie","filter","favorite","imdbID"],"sources":["D:/programming/React Stock/Movie react app/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport MovieList from './MovieList';\nimport SearchMovie from './SearchMovie';\nimport MovieHeading from './MovieHeading';\nimport AddFavorite from './AddFavorite';\nimport RemoveMovie from './RemoveMovie';\n\n\nfunction App() {\n\n  const [movies, setMovies] = useState([])\n  const [favorites, setFavorites] = useState([])\n  const [searchValue, setSearchValue] = useState(\"\")\n\n  async function getMovies(searchValue) {\n\n    const url = `http://www.omdbapi.com/?s=${searchValue}&apikey=263d22d8`;\n\n    const res = await fetch(url);\n    const data = await res.json();\n\n    if (data.Search) {\n      setMovies(data.Search)\n    }\n\n  }\n\n  useEffect(() => {\n    getMovies();\n  }, [searchValue])\n\n  useEffect(() => {\n    const MovieList = JSON.parse(localStorage.getItem(\"fav-list\"))\n    if (MovieList) {\n      setMovies(MovieList)\n    }\n  }, [])\n\n\n  function addMoviesToLs(items) {\n    localStorage.setItem(\"fav-list\", JSON.stringify(items))\n  }\n\n\n\n  function addFavoriteList(movie) {\n    const newFavoriteList = [...favorites, movie]\n    setFavorites(newFavoriteList)\n    addMoviesToLs(newFavoriteList)\n  }\n\n  function removeFavoriteMovie(movie) {\n    const newFavoriteList = favorites.filter(\n      (favorite) => favorite.imdbID !== movie.imdbID);\n\n    setFavorites(newFavoriteList);\n  }\n\n\n\n\n  return (\n    <div>\n      <div className=\"row\">\n        <MovieHeading heading=\"Movies\" />\n        <SearchMovie searchValue={searchValue} setSearchValue={setSearchValue} />\n      </div>\n      <div >\n        <MovieList\n          movies={movies}\n          handleFavoriteClick={addFavoriteList}\n          FavoriteComponent={AddFavorite}\n        />\n      </div>\n\n      <div className=\"row\">\n        <MovieHeading heading=\"Favorites\" />\n      </div>\n      <div >\n        <MovieList\n          movies={favorites}\n          handleFavoriteClick={removeFavoriteMovie}\n          FavoriteComponent={RemoveMovie}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default App;"],"mappings":"whBAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAO,WAAP,CACA,MAAOC,UAAP,KAAsB,aAAtB,CACA,MAAOC,YAAP,KAAwB,eAAxB,CACA,MAAOC,aAAP,KAAyB,gBAAzB,CACA,MAAOC,YAAP,KAAwB,eAAxB,CACA,MAAOC,YAAP,KAAwB,eAAxB,C,wFAGA,QAASC,IAAT,EAAe,CAEb,cAA4BP,QAAQ,CAAC,EAAD,CAApC,wCAAOQ,MAAP,eAAeC,SAAf,eACA,eAAkCT,QAAQ,CAAC,EAAD,CAA1C,yCAAOU,SAAP,eAAkBC,YAAlB,eACA,eAAsCX,QAAQ,CAAC,EAAD,CAA9C,yCAAOY,WAAP,eAAoBC,cAApB,eAJa,QAMEC,UANF,yIAMb,iBAAyBF,WAAzB,qIAEQG,GAFR,qCAE2CH,WAF3C,2CAIoBI,MAAK,CAACD,GAAD,CAJzB,QAIQE,GAJR,qCAKqBA,IAAG,CAACC,IAAJ,EALrB,QAKQC,IALR,eAOE,GAAIA,IAAI,CAACC,MAAT,CAAiB,CACfX,SAAS,CAACU,IAAI,CAACC,MAAN,CAAT,CACD,CATH,sDANa,4CAmBbnB,SAAS,CAAC,UAAM,CACda,SAAS,GACV,CAFQ,CAEN,CAACF,WAAD,CAFM,CAAT,CAIAX,SAAS,CAAC,UAAM,CACd,GAAMC,UAAS,CAAGmB,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAAlB,CACA,GAAItB,SAAJ,CAAe,CACbO,SAAS,CAACP,SAAD,CAAT,CACD,CACF,CALQ,CAKN,EALM,CAAT,CAQA,QAASuB,cAAT,CAAuBC,KAAvB,CAA8B,CAC5BH,YAAY,CAACI,OAAb,CAAqB,UAArB,CAAiCN,IAAI,CAACO,SAAL,CAAeF,KAAf,CAAjC,EACD,CAID,QAASG,gBAAT,CAAyBC,KAAzB,CAAgC,CAC9B,GAAMC,gBAAe,8BAAOrB,SAAP,GAAkBoB,KAAlB,EAArB,CACAnB,YAAY,CAACoB,eAAD,CAAZ,CACAN,aAAa,CAACM,eAAD,CAAb,CACD,CAED,QAASC,oBAAT,CAA6BF,KAA7B,CAAoC,CAClC,GAAMC,gBAAe,CAAGrB,SAAS,CAACuB,MAAV,CACtB,SAACC,QAAD,QAAcA,SAAQ,CAACC,MAAT,GAAoBL,KAAK,CAACK,MAAxC,EADsB,CAAxB,CAGAxB,YAAY,CAACoB,eAAD,CAAZ,CACD,CAKD,mBACE,oCACE,aAAK,SAAS,CAAC,KAAf,wBACE,KAAC,YAAD,EAAc,OAAO,CAAC,QAAtB,EADF,cAEE,KAAC,WAAD,EAAa,WAAW,CAAEnB,WAA1B,CAAuC,cAAc,CAAEC,cAAvD,EAFF,GADF,cAKE,kCACE,KAAC,SAAD,EACE,MAAM,CAAEL,MADV,CAEE,mBAAmB,CAAEqB,eAFvB,CAGE,iBAAiB,CAAExB,WAHrB,EADF,EALF,cAaE,YAAK,SAAS,CAAC,KAAf,uBACE,KAAC,YAAD,EAAc,OAAO,CAAC,WAAtB,EADF,EAbF,cAgBE,kCACE,KAAC,SAAD,EACE,MAAM,CAAEK,SADV,CAEE,mBAAmB,CAAEsB,mBAFvB,CAGE,iBAAiB,CAAE1B,WAHrB,EADF,EAhBF,GADF,CA0BD,CAED,cAAeC,IAAf"},"metadata":{},"sourceType":"module"}